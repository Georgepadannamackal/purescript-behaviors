var Behavior=function(){var a={};return a.Event=function(a){this.subscribe=a},a.Event.pure=function(b){return new a.Event(function(a){a(b)})},a.Event.map=function(b,c){return new a.Event(function(a){b.subscribe(function(b){a(c(b))})})},a.Event.apply=function(b,c){return new a.Event(function(a){var d,e,f=!1,g=!1;b.subscribe(function(b){d=b,f=!0,g&&a(d(e))}),c.subscribe(function(b){e=b,g=!0,f&&a(d(e))})})},a.Event.interval=function(b){return new a.Event(function(a){setInterval(function(){a((new Date).getTime())},b)})},a.Event.fold=function(b,c,d){return new a.Event(function(a){var e=c;b.subscribe(function(b){a(e=d(b,e))})})},a.Live=function(a){this.get=a},a.Behavior=function(a){this.subscribe=a},a.Behavior.pure=function(b){return new a.Behavior(function(){return new a.Live(function(){return b})})},a.Behavior.map=function(b,c){return new a.Behavior(function(){var d=b.subscribe();return new a.Live(function(){return c(d.get())})})},a.Behavior.apply=function(b,c){return new a.Behavior(function(){var d=b.subscribe(),e=c.subscribe();return new a.Live(function(){return d.get()(e.get())})})},a.Behavior.step=function(b,c){return new a.Behavior(function(){var d=b;return c.subscribe(function(a){d=a}),new a.Live(function(){return d})})},a.Behavior.sample=function(b,c,d){return new a.Event(function(a){var e=b.subscribe();c.subscribe(function(b){a(d(e.get(),b))})})},a}();